CREATE TABLE owners (
  id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  first_name VARCHAR(255),
  last_name VARCHAR(255),
  address VARCHAR(255),
  city VARCHAR(255),
  telephone VARCHAR(255),
  CONSTRAINT PK_OWNERS PRIMARY KEY (id)
);

CREATE TABLE pets (
  id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  name VARCHAR(255),
  birth_date date,
  type_id INT,
  owner_id INT,
  CONSTRAINT PK_PETS PRIMARY KEY (id)
);

CREATE TABLE specialties (
  id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  name VARCHAR(255),
  CONSTRAINT PK_SPECIALTIES PRIMARY KEY (id)
);

CREATE TABLE types (
  id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  name VARCHAR(255),
  CONSTRAINT PK_TYPES PRIMARY KEY (id)
);

CREATE TABLE vet_specialties (
  specialty_id INT NOT NULL,
  vet_id INT NOT NULL,
  CONSTRAINT PK_VET_SPECIALTIES PRIMARY KEY (specialty_id, vet_id)
);

CREATE TABLE vets (
  id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  first_name VARCHAR(255),
  last_name VARCHAR(255),
  CONSTRAINT PK_VETS PRIMARY KEY (id)
);

CREATE TABLE visits (
  id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  visit_date date,
  description VARCHAR(255),
  pet_id INT,
  CONSTRAINT PK_VISITS PRIMARY KEY (id)
);

ALTER TABLE pets
    ADD CONSTRAINT FK_PETS_ON_OWNER FOREIGN KEY (owner_id) REFERENCES owners (id);

ALTER TABLE pets
    ADD CONSTRAINT FK_PETS_ON_TYPE FOREIGN KEY (type_id) REFERENCES types (id);

ALTER TABLE vet_specialties
    ADD CONSTRAINT FK_VETSPE_ON_SPECIALTY FOREIGN KEY (specialty_id) REFERENCES specialties (id);

ALTER TABLE vet_specialties
    ADD CONSTRAINT FK_VETSPE_ON_VET FOREIGN KEY (vet_id) REFERENCES vets (id);